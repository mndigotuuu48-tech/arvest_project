<VirtualHost *:80>
	ServerName _
	DocumentRoot /var/www/html

	# Use real client IP from Traefik/X-Forwarded-For
	RemoteIPHeader X-Forwarded-For

	# Logs to stdout/stderr
	LogFormat "%a %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
	CustomLog /proc/self/fd/1 combined
	ErrorLog /proc/self/fd/2

	# Health endpoint (static)
	Alias /healthz /var/www/html/docker/healthz.txt
	<Files ".*">
		Require all granted
	</Files>

	<Directory /var/www/html>
		Options -Indexes +FollowSymLinks
		AllowOverride All
		Require all granted
	</Directory>

	# Basic security headers
	Header always set X-Content-Type-Options "nosniff"
	Header always set X-Frame-Options "SAMEORIGIN"
	Header always set X-XSS-Protection "1; mode=block"
</VirtualHost>
